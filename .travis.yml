language: c
before_install:
- sudo apt-get install intltool libgtk2.0-dev libudev-dev libstartup-notification0-dev
  ffmpeg libffmpegthumbnailer-dev

addons:
  sonarcloud:
    organization: "cartoonfan"
    token:
	  secure: "UcBHQQQa8HtgPgAJ/bvDZszAyZftulgV3vKx4g2Zu/oDHOVZpcRqr+1SRuiImhnS8I9W4e0Na8YLezBxEtZyEr3IE7iKYLjgMPFOrzkJ+rLbakO+yzjDJ/EMZh4SyMVWMLt2NkTAgLHmzKMS9kEOfv+sUBGwlGmmUMB+dkuZijYhm/x92xCqlcCxFxsiR8ddv0oXLPo/w78PcRFO2dNslpS90Q48+bn8RJA+eY3VYgKJW3hfOu3E4gq4fHgpBonTzA+7Ja4LxDiQrkBM1ZJNTcXg+hT6A9iQrC80NHYac4tbkF7XNdf2UbTSGX8iH/MaZpMRlSJmdK5JyV1Oz15Mx2Pe/Z3Y7J7OWFvPnr3w6+cG8gIiDNoxa46qcokV/jvGovKlrVzqQmFqLFv2PdJjaSsjxg5ivLCBDIP6DGy//QDbw97Ch6FLKV8KS2P8kblJNsuGYPSSQYGpbYccxz3dRzak34FYO2/TpUSMJS+tk+3/WtzDIjeMg86Tf4sapg6U4Hvz1nv2NWAgQFNVm8H2S4DW5LGYw84cloxysM8mKaB2AGhbuZDniL+vgRCTf/sGRu5moEvp6NfGxBUESDv3mSDX+FwDhirgQQ+wDCRwfTQiedjKtXJLCbSs3YbmlSVtYsEd83K9Ff83mJ5uO9+TaQGxm9gZbGe6u5o/tcUw5kE="


script:
# Wraps the compilation with the Build Wrapper to generate configuration (used
  # later by the SonarScanner) into the "bw-output" folder
  - build-wrapper-linux-x86-64 --out-dir bw-output ./configure && make && make check
  # And finally run the SonarCloud analysis - read the "sonar-project.properties"
  # file to see the specific configuration
  - sonar-scanner -Dsonar.cfamily.build-wrapper-output=bw-output
